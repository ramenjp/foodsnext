<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/common_header::base_header(~{::title})">

<title>トップ</title>
    <title>Church &mdash; Free Website Template, Free HTML5 Template by freehtml5.co</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Free HTML5 Website Template by freehtml5.co" />
    <meta name="keywords" content="free website templates, free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />
    <meta name="author" content="freehtml5.co" />


    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700" rel="stylesheet"
    >

    <!-- Animate.css -->
    <link rel="stylesheet" href="css/animate.css">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="css/icomoon.css">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="css/bootstrap.css">

    <!-- Magnific Popup -->
    <link rel="stylesheet" href="css/magnific-popup.css">

    <!-- Flexslider  -->
    <link rel="stylesheet" href="css/flexslider.css">

    <!-- Owl Carousel  -->
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">

    <!-- Theme style  -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Modernizr JS -->
    <script src="js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="js/respond.min.js"></script>
    <![endif]-->

=======
    <meta charset="UTF-8"/>
    <title>トップ</title>

</head>
<body>


<!--<div class="container-fluid bg-image">-->
<!--    <div class="row bg-mask">-->
<!--        &lt;!&ndash; 左サイドバー &ndash;&gt;-->
<!--        <div class="col-md-3 col-lg-2 d-none d-md-block bg-light sidebar">-->
<!--            <div class="sidebar-sticky">-->
<!--                <ul class="nav flex-column">-->
<!--                    <h4 class="sidebar-heading d-flex align-items-center px-3 mt-3 mb-1 text-muted">-->
<!--                        <span><i class="far fa-address-card">&nbsp;</i>アカウント機能</span>-->
<!--                    </h4>-->
<!--                    <li class="nav-item">-->
<!--                        <a href="/top/setting/init" class="nav-link">アカウント情報更新</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a href="/top/password/init" class="nav-link">パスワード更新</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a href="/top/upload/init" class="nav-link">画像アップロード</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a href="/top/matching1" class="nav-link">マッチング</a>-->
<!--                    </li>-->
<!--                </ul>-->

<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->



<div id="page">
    <nav class="fh5co-nav" role="navigation">
        <div class="container-wrap">
            <div class="top-menu">
                <div class="row">
                    <div class="col-md-12 col-offset-0 text-center">

                        <div id="fh5co-logo"><a href="/top"><image src ="images/logo.gif" width="20%" height="20%"></image><br>
                            Food's Next</a>
                        </div>
                    </div>
                    <div class="col-md-12 col-md-offset-0 text-center menu-1">
                        <ul>
<!--                            <li class="active"><a href="/top">Home</a></li>-->
<!--                            <li><a href="/top/setting/init" >アカウント情報更新</a></li>-->
<!--                            <li class="has-dropdown">-->
<!--                                <a href="/top/password/init" >パスワード更新</a>-->
<!--                                <ul class="dropdown">-->
<!--                                    <li><a href="#">Ministry</a></li>-->
<!--                                    <li><a href="#">Medical Missionary</a></li>-->
<!--                                    <li><a href="#">Country Living</a></li>-->
<!--                                    <li><a href="#">Gospel Workers</a></li>-->
<!--                                </ul>-->
<!--                            </li>-->
<!--                            <li><a href="/top/upload/init" >画像アップロード</a></li>-->
<!--                            <li><a href="/top/matching1" >マッチング</a></li>-->
                            <li class="active"><a href="/top">Home</a></li>
                            <li><a href="/top/matching1" >マッチング</a></li>

                            <li class="has-dropdown"　>
                                <a>設定</a>
                                <ul class="dropdown">
                                    <li><a href="/top/setting/init">アカウント情報更新</a></li>
                                    <li><a href="/top/password/init">パスワード更新</a></li>
                                    <li><a href="/top/upload/init">画像アップロード</a></li>

                                </ul>
                            </li>

                        </ul>
                    </div>
                </div>

            </div>
        </div>

    </nav>
    <div class="container-wrap">
        <aside id="fh5co-hero">
            <div class="flexslider">
                <ul class="slides">
                    <li style="background-image: url(images/cafeteria1.jpg);">
<!--                        <div class="overlay"></div>-->
<!--                        <div class="container-fluid">-->
<!--                            <div class="row">-->
<!--                                <div class="col-md-6 col-md-offset-3 text-center">-->
<!--                                    <div class="slider-text">-->
<!--                                        <div class="slider-text-inner">-->
<!--                                            <h1>Living &amp; Sharing the Gospel of God</h1>-->
<!--                                            <h2>Free html5 templates Made by <a href="http://freehtml5.co/" target="_blank">freehtml5.co</a></h2>-->
<!--                                            <p><a class="btn btn-primary btn-demo popup-vimeo" href="/top/matching1">-->
<!--                                                <i class="icon-play4">-->
<!--&lt;!&ndash;                                                <i class="icon-pause3">&ndash;&gt;-->
<!--                                                </i>Match</a>-->
<!--                                                <a class="btn btn-primary btn-learn">Join us here! <i class="icon-arrow-right3"></i></a></p>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
                    </li>
                    <li style="background-image: url(images/img_bg_2.jpg);">
<!--                        <div class="overlay"></div>-->
<!--                        <div class="container-fluid">-->
<!--                            <div class="row">-->
<!--                                <div class="col-md-6 col-md-offset-3 text-center">-->
<!--                                    <div class="slider-text">-->
<!--                                        <div class="slider-text-inner">-->
<!--                                            <h1>Tell The World</h1>-->
<!--                                            <h2>Free html5 templates Made by <a href="http://freehtml5.co/" target="_blank">freehtml5.co</a></h2>-->
<!--                                            <p><a class="btn btn-primary btn-demo popup-vimeo" href="https://vimeo.com/channels/staffpicks/93951774">-->
<!--                                                <i class="icon-play4"></i> Watch Video</a>-->
<!--                                                <a class="btn btn-primary btn-learn">Join us here! <i class="icon-arrow-right3"></i></a></p>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
                    </li>
                    <li style="background-image: url(images/img_bg_3.jpg);">
<!--                        <div class="overlay"></div>-->
<!--                        <div class="container-fluids">-->
<!--                            <div class="row">-->
<!--                                <div class="col-md-6 col-md-offset-3 text-center">-->
<!--                                    <div class="slider-text">-->
<!--                                        <div class="slider-text-inner text-center">-->
<!--                                            <h1>Know More About Jesus</h1>-->
<!--                                            <h2>Free html5 templates Made by <a href="http://freehtml5.co/" target="_blank">freehtml5.co</a></h2>-->
<!--                                            <p><a class="btn btn-primary btn-demo popup-vimeo" href="https://vimeo.com/channels/staffpicks/93951774">-->
<!--                                                <i class="icon-play4"></i> Watch Video</a>-->
<!--                                                <a class="btn btn-primary btn-learn">Join us here! <i class="icon-arrow-right3"></i></a></p>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
                    </li>
                </ul>
            </div>
        </aside>
        <div id="fh5co-intro">
            <div class="row animate-box">
                <div class="col-md-12 col-md-offset-0 text-center">
                    <p><a class="btn btn-primary btn-demo popup-vimeo" href="/top/matching1">
                            <i class="icon-play4"></i> Match</a>
                       </p>

<!--                    <h2>Living in God's Amazing Grace!</h2>-->
<!--                    <span>We are open Sunday to Monday</span>-->
<!--                    <p>We have a fun </p>-->
<!--                </div>-->
            </div>
        </div>

        <hr>
        <div id="fh5co-counter" class="fh5co-counters">
            <div class="row">
                <div class="col-md-6 text-center animate-box">

                </div>
            </div>
            <div class="row animate-box">
                <div class="col-md-12 col-md-offset-2">
                    <div class="row">
                        <div class="col-md-3 col-sm-6 col-xs-6 text-center">
                            <span class="fh5co-counter js-counter" data-from="0" data-to="9452" data-speed="5000" data-refresh-interval="50"></span>
                            <span class="fh5co-counter-label">Members</span>
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-6 text-center">
                            <span class="fh5co-counter js-counter" data-from="0" data-to="214" data-speed="5000" data-refresh-interval="50"></span>
                            <span class="fh5co-counter-label">Ministries</span>
                        </div>
                        <div class="clearfix visible-sm-block visible-xs-block"></div>
                        <div class="col-md-3 col-sm-6 col-xs-6 text-center">
                            <span class="fh5co-counter js-counter" data-from="0" data-to="433" data-speed="5000" data-refresh-interval="50"></span>
                            <span class="fh5co-counter-label">Classes</span>
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-6 text-center">
                            <span class="fh5co-counter js-counter" data-from="0" data-to="512" data-speed="5000" data-refresh-interval="50"></span>
                            <span class="fh5co-counter-label">Activities</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="fh5co-services" class="fh5co-light-grey">
            <div class="row animate-box">
                <div class="col-md-12 col-md-offset-3 text-center fh5co-heading">
                    <h2>About</h2>
                    <p>Dignissimos asperiores vitae velit veniam totam fuga molestias accusamus alias autem provident. Odit ab aliquam dolor eius.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 animate-box">
                    <div class="services">
                        <a href="#" class="img-holder"><img class="img-responsive" src="images/cafeteria1.jpg" alt="Free HTML5 Website Template by freehtml5.co"></a>
                        <div class="desc">
                            <h3><a href="#">Live Events</a></h3>
                            <p>Dignissimos asperiores vitae velit veniam totam fuga molestias accusamus alias autem provident. Odit ab aliquam dolor eius.</p>
                            <a href="#">Read More <i class="icon-arrow-right3"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 animate-box">
                    <div class="services">
                        <a href="#" class="img-holder"><img class="img-responsive" src="images/cafeteria2.jpg" alt="Free HTML5 Website Template by freehtml5.co"></a>
                        <div class="desc">
                            <h3><a href="#">Biblical Counseling</a></h3>
                            <p>Dignissimos asperiores vitae velit veniam totam fuga molestias accusamus alias autem provident. Odit ab aliquam dolor eius.</p>
                            <a href="#">Read More <i class="icon-arrow-right3"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 animate-box">
                    <div class="services">
                        <a href="#" class="img-holder"><img class="img-responsive" src="images/img-2.jpg" alt="Free HTML5 Website Template by freehtml5.co"></a>
                        <div class="desc">
                            <h3><a href="#">Helping Children</a></h3>
                            <p>Dignissimos asperiores vitae velit veniam totam fuga molestias accusamus alias autem provident. Odit ab aliquam dolor eius.</p>
                            <a href="#">Read More <i class="icon-arrow-right3"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>




    <!-- jQuery -->
    <script src="js/jquery.min.js"></script>
    <!-- jQuery Easing -->
    <script src="js/jquery.easing.1.3.js"></script>
    <!-- Bootstrap -->
    <script src="js/bootstrap.min.js"></script>
    <!-- Waypoints -->
    <script src="js/jquery.waypoints.min.js"></script>
    <!-- Flexslider -->
    <script src="js/jquery.flexslider-min.js"></script>
    <!-- Carousel -->
    <script src="js/owl.carousel.min.js"></script>
    <!-- Magnific Popup -->
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/magnific-popup-options.js"></script>
    <!-- Counters -->
    <script src="js/jquery.countTo.js"></script>
    <!-- Main -->
    <script src="js/main.js"></script>



        <div class="container py-3">
            <div class="row">
                <div class="col-md-12 mx-auto">

                    <div class="card-body">
                        <form id="searchForm" th:action="@{/top/paging/do}" th:object="${historyForm}"
                              method="post">

                            <div class="col text-center">
                                <div class="btn-group">
                                    <input type="submit" name="search" value="履歴"
                                           class="btn bg-custom3 btn-lg text-white"/>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
            </div>

        </div>
    </div>


            <div class="row py-3">
                <div class="col-md-12 mx-auto">
                    <!--結果の表示-->
                    <div th:if="!${#lists.isEmpty(list)}">
                        <table class="table table-striped table-lg table-bordered" style="table-layout:fixed;">
                            <thead>
                            <tr>
                                <th width=30%>ニックネーム</th>
                                <th width=40%>メールアドレス</th>
                                <th width=40%>部署・役職</th>
                                <th class="text-center" width=10%>自己紹介</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="account : ${list}">
                                <td class="overflow-wrap-break width=10%" th:text="${account.nickname}"></td>

                                <td class="overflow-wrap-break width=80%" th:text="${account.departmentPosition}"></td>
                                <td>
                                    <div class="text-center">
                                        <button class="btn bg-custom3 text-white btn-sm" data-toggle="modal"
                                                data-target="#modal-selfIntroduction"
                                                th:attr="data-intro=${account.selfIntroduction}, data-name=${account.nickname}}">
                                            Open
                                        </button>
                                    </div>
                                </td>

                                <div class="modal fade" id="modal-selfIntroduction" role="dialog" tabindex="-1"
                                     aria-hidden="true">
                                    <div class="modal-dialog modal-lg">
                                        <!-- 3.モーダルのコンテンツ -->
                                        <div class="modal-content">
                                            <!-- 4.モーダルのヘッダ -->
                                            <div class="modal-header">
                                                <h4 class="modal-title" id="modal-label">埋め込み</h4>
                                                <button type="button" class="close" data-dismiss="modal"
                                                        aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <!-- 5.モーダルのボディ -->
                                            <div class="modal-body" id="modal-body">
                                                <div class="row">
                                                    <div class="col-xl-5">
                                                        <div id="images" class="img-fluid"></div>
                                                    </div>
                                                    <div class="col-xl-7 col-sm-12 ">
                                                        <span class="badge badge-info">ニックネーム</span>
                                                        <p class="account-name"></p>
                                                        <span class="badge badge-info">E-mail</span>
                                                        <p class="account-email"></p>
                                                        <span class="badge badge-info">部署・役職</span>
                                                        <p class="account-departmentPosition"></p>
                                                        <span class="badge badge-info">自己紹介</span>
                                                        <pre class="selfIntroduction"></pre>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- 6.モーダルのフッタ -->
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">閉じる
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </tr>
                    </tbody>
                </table>
                <!--ページングバー-->
                <div th:with="s = ${(page.number + 3 > page.totalPages - 1) ? (page.totalPages - 1 - 6) : (page.number - 3)}">
                    <ul class="pagination pagination-lg justify-content-center">
                        <li th:class="|page-item ${page.first ? 'disabled' : ''}|">
                            <a class="page-link" aria-label="Previous"
                               th:href="@{'pagenation'(page=${page.number - 1})}">
                                <span>&laquo;</span>
                            </a>
                        </li>

                        <li th:each='i : ${#numbers.sequence((s < 0 ? 0 : s), ((s < 0 ? 0 : s) + 6) > (page.totalPages - 1) ? (page.totalPages - 1) : ((s < 0 ? 0 : s) + 6))}'
                            th:class="|page-item ${(page.number == i) ? 'active' : ''}|">
                            <a class="page-link" th:href="@{'pagenation'(page=${i})}">
                                <span th:text='${i + 1}'>1</span>
                            </a>
                        </li>
                        <li th:class="|page-item ${page.last ? 'disabled' : ''}|">
                            <a class="page-link" aria-label="Next"
                               th:href="@{'pagenation'(page=${page.number + 1})}">
                                <span>&raquo;</span>
                            </a>
                        </li>
                    </ul>
=======

                            </tr>
                            </tbody>
                        </table>
                        <!--ページングバー-->
<!--                        <div th:with="s = ${(page.number + 3 > page.totalPages - 1) ? (page.totalPages - 1 - 6) : (page.number - 3)}">-->
<!--                            <ul class="pagination pagination-lg justify-content-center">-->
<!--                                <li th:class="|page-item ${page.first ? 'disabled' : ''}|">-->
<!--                                    <a class="page-link" aria-label="Previous"-->
<!--                                       th:href="@{'pagenation'(page=${page.number - 1})}">-->
<!--                                        <span>&laquo;</span>-->
<!--                                    </a>-->
<!--                                </li>-->

<!--                                <li th:each='i : ${#numbers.sequence((s < 0 ? 0 : s), ((s < 0 ? 0 : s) + 6) > (page.totalPages - 1) ? (page.totalPages - 1) : ((s < 0 ? 0 : s) + 6))}'-->
<!--                                    th:class="|page-item ${(page.number == i) ? 'active' : ''}|">-->
<!--                                    <a class="page-link" th:href="@{'pagenation'(page=${i})}">-->
<!--                                        <span th:text='${i + 1}'>1</span>-->
<!--                                    </a>-->
<!--                                </li>-->
<!--                                <li th:class="|page-item ${page.last ? 'disabled' : ''}|">-->
<!--                                    <a class="page-link" aria-label="Next"-->
<!--                                       th:href="@{'pagenation'(page=${page.number + 1})}">-->
<!--                                        <span>&raquo;</span>-->
<!--                                    </a>-->
<!--                                </li>-->
<!--                            </ul>-->
<!--                        </div>-->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

            <div class="container-wrap">
                <footer id="fh5co-footer" role="contentinfo">
                    <div class="col-md-4 text-center">
                        <h3>198 West 21th Street, Suite 721 New York NY 10016</h3>
                    </div>
                    <div class="col-md-4 text-center">
                        <h2><a href="#">Church</a></h2>
                    </div>
                    <div class="col-md-4 text-center">
                    </div>
                    <div class="row copyright">
                        <div class="col-md-12 text-center">
                            <p>
                                <small class="block">&copy; 2016 Free HTML5. All Rights Reserved.</small>
                                <small class="block">Designed by <a href="http://freehtml5.co/" target="_blank">FreeHTML5.co</a> Demo Images: <a href="http://unsplash.co/" target="_blank">Unsplash</a></small>
                            </p>
                        </div>
                    </div>
                </footer>
            </div><!-- END container-wrap -->
        </div>

        <div class="gototop js-top">
            <a href="#" class="js-gotop"><i class="icon-arrow-up2"></i></a>
        </div>

        <footer th:replace="common/common_footer"></footer>
    </div>
</div>
</body>

<script type="text/javascript">
    $('#modal-selfIntroduction').on('show.bs.modal', function (event) {
        var button = $(event.relatedTarget);
        var accountname = button.data('name');
        var departmentPosition = button.data('departmentPosition');
        var selfIntroduction = button.data('intro');
        var email= button.data('email');
        selfIntroduction = removeTags(selfIntroduction);
        selfIntroduction = selfIntroduction.replace(/\r?\n/g, '<br>');
        var modal = $(this);//モーダルを取得
        modal.find('.modal-title').text(accountname + ' さんの自己紹介');
        modal.find('.selfIntroduction').html(selfIntroduction);
        modal.find('.account-departmentPosition').text(departmentPosition);
        modal.find('.account-name').text(accountname);
        modal.find('.account-email').text(email);

        $("#images").empty();
        var id = button.data('account_id');
        var url = "/image/profile?id=" + id;
        var xhr = new XMLHttpRequest();
        xhr.responseType = "arraybuffer";
        xhr.open("GET", url, true);
        xhr.onload = function () {
            var data = new Uint8Array(this.response);
            var oURL = URL.createObjectURL(
                new Blob([data], {type: "image/png"})
            );
            var image = new Image();
            image.onload = function () {
                URL.revokeObjectURL(oURL);
                $("#images").append(image);
                $("#images > img").css('max-width', '240px','max-height','240px','object-fit','contain');
                $("#images").addClass("image-responsive");

            };
            image.src = oURL;
        };
        xhr.send(null);
    });
    $(".clearForm").bind("click", function(){
        $(this.form).find("textarea, :text, select").val("").end().find(":checked").prop("checked", false);
    });

</script>
</html>

